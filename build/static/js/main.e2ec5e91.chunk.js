(this["webpackJsonpreact-flow-demo"]=this["webpackJsonpreact-flow-demo"]||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(3),r=a.n(o),c=a(2),i=a(1),d=(a(15),function(){var e=function(e,t,a){e.dataTransfer.setData("application/reactflow",t),e.dataTransfer.setData("shape",a),e.dataTransfer.effectAllowed="move"};return l.a.createElement("aside",null,l.a.createElement("div",{className:"dndnode",onDragStart:function(t){return e(t,"default","rectangle")},draggable:!0},"Node"),l.a.createElement("div",{className:"dndnode circle",onDragStart:function(t){return e(t,"default","circle")},draggable:!0},"Node"))}),s=[{id:"node_1",type:"input",data:{label:"Node"},position:{x:450,y:100},style:{width:"200px",height:"28px",display:"flex",padding:"16px",borderColor:"#bababa"}}],u=2,f=function(){return"node_".concat(u++)};function p(){var e=Object(n.useRef)(null),t=Object(n.useState)(null),a=Object(c.a)(t,2),o=a[0],r=a[1],u=Object(n.useState)(s),p=Object(c.a)(u,2),m=p[0],b=p[1],v=Object(n.useState)(""),g=Object(c.a)(v,2),E=g[0],y=g[1],N=Object(n.useState)(""),x=Object(c.a)(N,2),h=x[0],j=x[1],w=Object(n.useState)(!1),O=Object(c.a)(w,2),C=O[0],D=O[1];var S=function(e){var t=e.target.result;console.log("file content",JSON.parse(t));var a=JSON.parse(t);console.log("fileToobj",a);var n=function(e){console.log("".concat(e,": ").concat(a[e].position.x));var t={id:a[e].id,type:a[e].type,position:{x:a[e].position.x,y:a[e].position.y},data:{label:a[e].data.label},style:a[e].style};b((function(e){return e.concat(t)}))};for(var l in a)n(l)};return l.a.createElement("div",null,l.a.createElement("div",{className:"topbar"},l.a.createElement("div",{className:"form"},C?l.a.createElement("div",{className:"leftside"},l.a.createElement("label",{className:"label"},"Node text"),l.a.createElement("input",{name:"nodetext",className:"nodetext",value:E,onChange:function(e){y(e.target.value)}}),l.a.createElement("button",{onClick:function(){console.log(m),b((function(e){return e.map((function(e){return e.id===h&&(e.data={label:E}),e}))}))},className:"update"},"Update")):l.a.createElement("div",null),l.a.createElement("div",{className:"rightside"},l.a.createElement("label",{className:"custom-file-upload"},l.a.createElement("input",{type:"file",className:"upload",accept:".json",onChange:function(e){return function(e){var t=new FileReader;t.onloadend=S,t.readAsText(e)}(e.target.files[0])}}),"Upload"),l.a.createElement("button",{onClick:function(){var e=document.createElement("a"),t=new Blob([JSON.stringify(m)],{type:"Json"});e.href=URL.createObjectURL(t),e.download="Nodes.json",document.body.appendChild(e),e.click()},className:"download"},"Download")))),l.a.createElement("div",{className:"dndflow"},l.a.createElement(i.b,null,l.a.createElement("div",{className:"reactflow-wrapper",style:{height:"650px",width:"500px"},ref:e},l.a.createElement(i.d,{elements:m,onConnect:function(e){return b((function(t){return Object(i.c)(e,t)}))},onElementsRemove:function(e){return b((function(t){return Object(i.e)(e,t)}))},onLoad:function(e){return r(e)},onDrop:function(t){t.preventDefault();var a=e.current.getBoundingClientRect(),n=t.dataTransfer.getData("application/reactflow"),l=t.dataTransfer.getData("shape"),r=o.project({x:t.clientX-a.left,y:t.clientY-a.top});if("circle"===l){var c={id:f(),type:n,position:r,data:{label:"Node"},style:{borderRadius:"50%",width:"60px",height:"60px",display:"flex",justifyContent:"center",alignItems:"center",borderColor:"#bababa"}};b((function(e){return e.concat(c)}))}else{var i={id:f(),type:n,position:r,data:{label:"Node"},style:{width:"200px",height:"28px",display:"flex",padding:"16px",borderColor:"#bababa"}};b((function(e){return e.concat(i)}))}},onDragOver:function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"},onElementClick:function(e,t){D(!0),y(t.data.label),j(t.id)}},l.a.createElement(i.a,null))),l.a.createElement(d,null))))}var m=document.getElementById("root");r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(p,null)),m)},8:function(e,t,a){e.exports=a(16)}},[[8,1,2]]]);
//# sourceMappingURL=main.e2ec5e91.chunk.js.map